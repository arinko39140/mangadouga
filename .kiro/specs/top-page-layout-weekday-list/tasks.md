# Implementation Plan

- [ ] 1. ルーティングとページ枠の導入
- [x] 1.1 (P) トップと推しリストのルート切替を用意し、ページ遷移が成立する状態にする
  - トップページと推しリストページのルートが切り替わることを確認できる状態にする
  - _Requirements: 2.2_

- [x] 1.2 (P) 推しリストページの最小表示枠を用意し、ルート遷移の受け皿を整える
  - 推しリストページの表示枠が存在し、遷移後に空白にならないようにする
  - _Requirements: 2.2_

- [ ] 2. Supabaseのテーブルとシードの準備
- [x] 2.1 (P) movieのテーブル構造を用意し、取得条件に必要な列を揃える
  - weekday、favorite_count、updateが利用できる状態にする
  - _Requirements: 2.1, 3.1, 3.2_
  - [x] 2.1.1 Supabaseにマイグレーションを適用してテーブルを作成する

- [x] 2.2 (P) 過去1週間分の動画サンプルを曜日別に投入し、人気順が確認できる状態にする
  - 各曜日に最低1件のデータを用意し、人気順の並び替えが確認できるようにする
  - _Requirements: 2.1, 3.1, 3.2_

- [ ] 3. 曜日別データ取得の整備
- [x] 3.1 (P) 週間条件と動画・人気順の条件で曜日別データを取得できるようにする
  - 現在から過去1週間に更新された動画のみを対象にする
  - 人気順で返るようにする
  - 曜日ごとに一覧化できる形で返す
  - _Requirements: 2.1, 3.1, 3.2_

- [x] 3.2 (P) 未設定や失敗時の状態をUIへ返せるように整える
  - Supabase未設定、通信失敗、空データの状態を区別できるようにする
  - _Requirements: 2.1, 3.2_

- [ ] 4. トップページの骨組みと導線UI
- [x] 4.1 主要エリア（ナビ・一覧・導線）を視覚的に区分したレイアウトを構成する
  - ナビ領域と一覧領域、推しリスト導線が明確に分かる配置にする
  - _Requirements: 1.1, 1.3_

- [x] 4.2 曜日ナビゲーションを7曜日で表示し、選択状態が識別できる見た目にする
  - 7曜日を一覧表示し、選択中の曜日が視覚的に分かるようにする
  - _Requirements: 1.2, 3.3_

- [x] 4.3 曜日一覧枠と推しリスト導線を区別して表示する
  - 曜日別一覧の枠と、推しリスト導線が混同しない表示にする
  - _Requirements: 1.3, 2.3, 3.1_

- [x] 4.4 推しリスト導線からページ遷移が開始される状態にする
  - 導線操作で推しリストページへ遷移できるようにする
  - _Requirements: 2.2_

- [ ] 5. 状態・データ連携と曜日切替
- [x] 5.1 初期表示はJST基準の現在曜日とし、最初に1つの曜日一覧を閲覧可能にする
  - JSTの現在曜日を初期選択として扱う
  - 初期表示で最低1つの曜日一覧が表示されている状態にする
  - _Requirements: 3.2_

- [ ] 5.2 曜日選択で該当曜日の一覧を表示し、選択中の曜日を明確に示す
  - 曜日ナビの操作で一覧表示が切り替わる
  - 選択中の曜日が視覚的に分かる状態を維持する
  - _Requirements: 2.1, 3.3_

- [ ] 5.3 取得データを曜日別一覧へ反映し、人気順で表示される状態にする
  - 曜日ごとの一覧枠にデータが反映される
  - 人気順で並んだ状態が維持される
  - _Requirements: 2.1, 3.1_

- [ ] 5.4 ローディング・エラー・空状態をトップページに反映する
  - 取得中、失敗、空データの状態が利用者に伝わるようにする
  - _Requirements: 1.1, 3.2_

- [ ] 6. テスト（任意）
- [ ]* 6.1 初期曜日と曜日切替の挙動を確認するテストを追加する
  - 初期表示で現在曜日が選択されていることを確認する
  - 曜日切替で一覧が変わることを確認する
  - _Requirements: 2.1, 3.2, 3.3_

- [ ]* 6.2 データ取得条件の整合性を確認するテストを追加する
  - 過去1週間、公開済み、動画のみ、人気順の条件を満たすことを確認する
  - _Requirements: 2.1, 3.1, 3.2_

- [ ]* 6.3 推しリスト導線の遷移を確認するテストを追加する
  - 導線操作で推しリストページへ遷移することを確認する
  - _Requirements: 2.2_
