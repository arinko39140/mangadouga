# コントラスト基準と測定ポリシー

本ドキュメントは、Reactページに適用するコントラスト基準と、低コントラスト検出時の調整ルール、測定方法と記録フォーマットを定義する。

## 適用範囲
- 対象: Reactページ（`LoginPage` / `NotFound` / `content/` 配下は対象外）
- 対象要素: 本文テキスト、見出し、補足テキスト、ボタン/リンクラベル、フォーカスリング

## 基準
- 最低基準: WCAG 2.1 AA
- 数値:
  - 本文/補足: 4.5:1 以上
  - 見出し/大きい文字: 3:1 以上
  - ボタン/リンクラベル: 4.5:1 以上
  - フォーカスリング: 3:1 以上
  - アイコン/非テキスト要素: 3:1 以上

## 低コントラスト検出時の調整ルール
1. 背景色と前景色の組み合わせを確認し、UIトークンのコントラストが基準未満の場合はトークンを優先調整する。
2. テキストが画像/装飾の上に載る場合は、文字色をトークンの強調色へ寄せる。
3. テキストが画像/装飾の上に載る場合は、文字背景に半透明のサーフェスを敷く。
4. テキストが画像/装飾の上に載る場合は、影やアウトラインで視認性を補強する。
5. 状態表現（警告/選択/エラー）が色だけに依存している場合は、太字・下線・アイコンなどの補助的手がかりを追加する。

## 測定方法
- 主要ページで画面キャプチャを取得し、コントラスト測定ツールで数値を記録する。
- 測定対象は「本文/見出し/補足/ボタン/リンク/フォーカスリング」を必須とする。
- 記録は本ドキュメントの「記録フォーマット」に追記する。

## 記録フォーマット（Contrast Measurement Log）
| Page | Element | Foreground/Background | Ratio | Tool | Date | Notes |
| --- | --- | --- | --- | --- | --- | --- |
| Global | `body text` | `#2b1e1b/#fff7e8` | `15.12:1` | node-contrast | 2026-02-05 | トークン算出 |
| Global | `heading` | `#1f1412/#fff7e8` | `16.90:1` | node-contrast | 2026-02-05 | トークン算出 |
| Global | `muted text` | `#6a5c57/#fff7e8` | `6.01:1` | node-contrast | 2026-02-05 | トークン算出 |
| Global | `focus ring` | `#2e6bff/#ffffff` | `4.50:1` | node-contrast | 2026-02-05 | トークン算出 |
